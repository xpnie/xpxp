FUNCTION_BLOCK INTERLOCK
VAR_INPUT
I1 : BOOL;
I2 : BOOL;
TL : TIME;
END_VAR
VAR_OUTPUT
Q1 : BOOL;
Q2 : BOOL;
END_VAR
VAR
T1 : TOF;
T2 : TOF;
END_VAR
ON STEP ON
IF I1 THEN
T1 := TIME;
ELSE IF I2 THEN
T2 := TIME;
ELSIF (T2 - T1) > TL THEN
Q1 := TRUE;
Q2 := FALSE;
ELSE
Q1 := FALSE;
Q2 := FALSE;
END_IF;
END_ON